{% extends 'coqb/layout.html' %}
{% load static %}

{% block title %}Add Question{% endblock title %}
{% block body %}
<div class="head-title">
	<div class="left">
		<h1>Add Question</h1>
		<ul class="dashboard">
			<li>
				<a class="active" href="{% url 'qb' %}">Question Bank</a>
			</li>
			<li><i class='bx bx-chevron-right'></i></li>
			<li>
				<a class="active" href="{% url 'add-qb' %}">Add Question</a>
			</li>
		</ul>
	</div>
</div>

<link rel="stylesheet" href="{% static 'coqb/style_form.css' %}">
<div class="table-data">
	<div class="order">
		<div class="wrapper">
			<div class="head">
				<h3>Add Question</h3>
			</div>
			<div class="is-submitted" style="display: none;">
				<div style="color: #285c01;">Submitted successfully.</div> <a href="{% url 'add-qb' %}">Add another question.</a>
			 </div>
			<form action="{% url 'add-qb' %}" method="post">
				{% csrf_token %}
				<div class="form">
					<div class="inputfield">

						<label>Course</label>
						<div class="custom_select">
							<select required name="course_info">
								<option value="" disabled selected hidden>Select</option>
								{% for item in course_info %}
									<option value="{{item.5}}">{{item.0}} Section {{item.2}}: {{item.1}}</option>
								{% endfor %}
							</select>
						</div>
					</div>



					<div class="form">
						<div class="inputfield">

							<label>Semester</label>
							<div class="custom_select">
								<select required name="semester">
									<option value="{{semester}}">{% if semester == 'Sp' %}Spring{% elif semester == 'Su' %}Summer{% else %}Autumn{% endif %}</option>
								</select>
							</div>
						</div>

						<div class="form">
							<div class="inputfield">
								<label>Year</label>
								<div class="custom_select">
									<select required name="year">
										<option value="{{year}}">{{year}}</option>
									</select>
								</div>
							</div>

							<div class="form">
								<div class="inputfield">
									<label>Question</label>
									<textarea required name="question" type="text" class="input"></textarea>
								</div>
								<div class="inputfield">
								</div>


							</div>
							<div class="inputfield">
								<label>Marks</label>
								<input required name="marks" type="text" class="input">
							</div>
							<div style="margin-top: 20px;"></div>
							<div class="inputfield">
								<input type="submit" value="Add" class="btn">
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>
{% endblock body %}


{% block script %}
	<script src="{% static 'coqb/faculty_co.js' %}"></script>
	<script>
		const isSubmitted = {{ is_submitted }}
		
		if (isSubmitted) {
		   const form = document.querySelector('div.form')
		   form.style = 'display: none;'
		   const submitted = document.querySelector('div.is-submitted')
		   submitted.style = "display: block;"
		}
	 </script>
{% endblock script %}

{% comment %} ############

{% extends 'coqb/layout.html' %}
{% load static %}

{% block title %}Question Bank{% endblock title %}
{% block body %}
<link rel="stylesheet" href="{% static 'coqb/style_form.css' %}">
<div class="wrapper">
	<div class="title">
		Upload Question Bank
	</div>
	<div class="form">
		<div class="inputfield">

			<label>Course</label>
			<div class="custom_select">
				<select>
					<option value="">Select</option>
					<option value="CSC303">CSC303</option>
					<option value="CSC303L">CSC303L</option>
				</select>
			</div>
		</div>

		<div class="inputfield">
			<label>Semester</label>
			<input type="text" class="input">
		</div>

		<div class="form">
			<div class="inputfield">
				<label>Question</label>
				<input type="text" class="input">
			</div>
			<div class="inputfield">
			</div>

			<div class="inputfield">
				<label>PLO</label>
				<div class="custom_select">
					<select>
						<option value="">Select</option>
						<option value="1">1</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>


					</select>
				</div>
			</div>
			<div class="inputfield">
				<label>CLO</label>
				<div class="custom_select">
					<select>
						<option value="">Select</option>
						<option value="1">1</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
					</select>
				</div>
			</div>
		</div>
		<div class="inputfield">
			<label>Marks</label>
			<input type="text" class="input">
		</div>
		<div style="margin-top: 20px;"></div>
		<div class="inputfield">
			<input type="submit" value="Add" class="btn">
		</div>
	</div>
</div>
{% endblock body %}
{% block script %}<script src="{% static 'coqb/faculty_qb.js' %}"></script>{% endblock script %} {% endcomment %}